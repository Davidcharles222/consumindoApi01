{"ast":null,"code":"import axios from 'axios';\nexport default {\n  created() {\n    var req = {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem('token')\n      }\n    };\n    axios.get(\"http://localhost:8686/user\", req).then(res => {\n      this.users = res.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  },\n  data() {\n    return {\n      users: [],\n      showModal: false,\n      deleteUserId: -1\n    };\n  },\n  methods: {\n    hideModal() {\n      this.showModal = false;\n    },\n    showModalUse(id) {\n      console.log(id);\n      this.deleteUserId = id;\n      this.showModal = true;\n    },\n    deleteUser() {\n      var req = {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem('token')\n        }\n      };\n      axios.delete(\"http://localhost:8686/user/\" + this.deleteUserId, req).then(res => {\n        console.log(res);\n        this.showModal = false;\n        this.users = this.users.filter(u => u.id != this.deleteUserId);\n      }).catch(err => {\n        console.log(err);\n        this.showModal = false;\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","created","req","headers","Authorization","localStorage","getItem","get","then","res","users","data","catch","err","console","log","showModal","deleteUserId","methods","hideModal","showModalUse","id","deleteUser","delete","filter","u"],"sources":["C:\\Users\\rosi_\\OneDrive\\Área de Trabalho\\projeto 6\\users\\src\\views\\Users.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h1>Painel admin!</h1>\r\n        \r\n        <table class=\"table\">     \r\n        <thead>\r\n            <tr>\r\n                <th>Nome</th>\r\n                <th>E-mail</th>\r\n                <th>Cargo</th>\r\n                <th>Ações</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"user in users\" :key=\"user.id\">\r\n                <td>{{user.name}}</td>\r\n                <td>{{user.email}}</td>\r\n                <td>{{user.role}}</td>\r\n                <td>\r\n                    <button class=\"button is-success\">Editar</button> | \r\n                    <button class=\"button is-danger\" @click=\"showModalUse(user.id)\">Deletar</button></td>\r\n            </tr>\r\n        </tbody>\r\n        </table>\r\n\r\n        <div :class=\"{modal: true, 'is-active': this.showModal}\">\r\n        <div class=\"modal-background\"></div>\r\n        <div class=\"modal-content\">\r\n            \r\n            <div class=\"card\">\r\n            <header class=\"card-header\">\r\n                <p class=\"card-header-title\">Você quer realmente deletar este usuário?</p>\r\n            </header>\r\n            <div class=\"card-content\">\r\n                <div class=\"content\">\r\n                    <p>Meu texto aqui</p>\r\n                </div>\r\n            </div>\r\n            <footer class=\"card-footer\">\r\n                <a href=\"#\" class=\"card-footer-item\" @click=\"hideModal()\">Cancelar</a>\r\n                <a href=\"#\" class=\"card-footer-item\" @click=\"deleteUser()\">Sim, quero deletar!</a>\r\n            </footer>\r\n            </div>\r\n\r\n        </div>\r\n        <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"hideModal()\"></button>\r\n        </div>\r\n    \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    created(){\r\n\r\n        var req = {\r\n            headers: {\r\n            Authorization: \"Bearer \" + localStorage.getItem('token')\r\n            }\r\n        }   \r\n\r\n        axios.get(\"http://localhost:8686/user\",req).then(res => {\r\n            this.users = res.data\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    },\r\n    data(){\r\n        return{\r\n            users: [],\r\n            showModal: false,\r\n            deleteUserId: -1\r\n        }\r\n    },\r\n    methods:{\r\n        hideModal(){\r\n            this.showModal = false\r\n        },\r\n        showModalUse(id){\r\n            console.log(id)\r\n            this.deleteUserId = id\r\n            this.showModal = true\r\n        },\r\n        deleteUser(){\r\n\r\n            var req = {\r\n                headers: {\r\n                    Authorization: \"Bearer \" + localStorage.getItem('token')\r\n                }\r\n            } \r\n\r\n            axios.delete(\"http://localhost:8686/user/\" + this.deleteUserId, req).then(res =>{\r\n                console.log(res)\r\n                this.showModal = false\r\n                this.users = this.users.filter(u => u.id != this.deleteUserId)\r\n            }).catch(err =>{\r\n                console.log(err)\r\n                this.showModal = false\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAoDA,OAAOA,KAAI,MAAO,OAAM;AACxB,eAAe;EACXC,OAAOA,CAAA,EAAE;IAEL,IAAIC,GAAE,GAAI;MACNC,OAAO,EAAE;QACTC,aAAa,EAAE,SAAQ,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO;MACvD;IACJ;IAEAN,KAAK,CAACO,GAAG,CAAC,4BAA4B,EAACL,GAAG,CAAC,CAACM,IAAI,CAACC,GAAE,IAAK;MACpD,IAAI,CAACC,KAAI,GAAID,GAAG,CAACE,IAAG;IACxB,CAAC,CAAC,CAACC,KAAK,CAACC,GAAE,IAAK;MACZC,OAAO,CAACC,GAAG,CAACF,GAAG;IACnB,CAAC;EACL,CAAC;EACDF,IAAIA,CAAA,EAAE;IACF,OAAM;MACFD,KAAK,EAAE,EAAE;MACTM,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE,CAAC;IACnB;EACJ,CAAC;EACDC,OAAO,EAAC;IACJC,SAASA,CAAA,EAAE;MACP,IAAI,CAACH,SAAQ,GAAI,KAAI;IACzB,CAAC;IACDI,YAAYA,CAACC,EAAE,EAAC;MACZP,OAAO,CAACC,GAAG,CAACM,EAAE;MACd,IAAI,CAACJ,YAAW,GAAII,EAAC;MACrB,IAAI,CAACL,SAAQ,GAAI,IAAG;IACxB,CAAC;IACDM,UAAUA,CAAA,EAAE;MAER,IAAIpB,GAAE,GAAI;QACNC,OAAO,EAAE;UACLC,aAAa,EAAE,SAAQ,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO;QAC3D;MACJ;MAEAN,KAAK,CAACuB,MAAM,CAAC,6BAA4B,GAAI,IAAI,CAACN,YAAY,EAAEf,GAAG,CAAC,CAACM,IAAI,CAACC,GAAE,IAAI;QAC5EK,OAAO,CAACC,GAAG,CAACN,GAAG;QACf,IAAI,CAACO,SAAQ,GAAI,KAAI;QACrB,IAAI,CAACN,KAAI,GAAI,IAAI,CAACA,KAAK,CAACc,MAAM,CAACC,CAAA,IAAKA,CAAC,CAACJ,EAAC,IAAK,IAAI,CAACJ,YAAY;MACjE,CAAC,CAAC,CAACL,KAAK,CAACC,GAAE,IAAI;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG;QACf,IAAI,CAACG,SAAQ,GAAI,KAAI;MACzB,CAAC;IACL;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}