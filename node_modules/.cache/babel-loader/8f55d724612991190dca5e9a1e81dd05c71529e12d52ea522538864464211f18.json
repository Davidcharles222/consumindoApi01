{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  created() {\n    var req = {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem('token')\n      }\n    };\n    axios.get(\"http://localhost:8686/user/\" + this.$route.params.id).then(res => {\n      console.log(res);\n      this.name = res.data.name;\n      this.email = res.data.email;\n      this.id = res.data.id;\n    }).catch(err => {\n      console.log(err);\n      this.$router.push({\n        path: \"/admin/users\"\n      });\n    });\n  },\n  data() {\n    return {\n      name: '',\n      email: '',\n      id: -1,\n      error: undefined\n    };\n  },\n  methods: {\n    update() {\n      var req = {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem('token')\n        }\n      };\n      axios.put(\"http://localhost:8686/user\", {\n        //acessando minha Api \n        name: this.name,\n        email: this.email,\n        id: this.id\n      }).then(res => {\n        console.log(res);\n        this.$router.push({\n          path: \"/admin/users\"\n        }); // redirecionando para minha home\n      }).catch(err => {\n        var msgErro = err.response.data.err;\n        this.error = msgErro;\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","created","req","headers","Authorization","localStorage","getItem","get","$route","params","id","then","res","console","log","name","data","email","catch","err","$router","push","path","error","undefined","methods","update","put","msgErro","response"],"sources":["C:\\Users\\rosi_\\OneDrive\\Área de Trabalho\\projeto 6\\users\\src\\views\\Edit.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Edição de usuário</h2>\r\n    <hr>\r\n\r\n    <div class=\"columns is-centered\">\r\n        <div class=\"column is-half\">\r\n\r\n                <div v-if=\"error != undefined\">\r\n                    <div class=\"notification is-danger\">\r\n                            {{error}}\r\n                    </div>\r\n                </div>\r\n\r\n            <p>Nome</p>\r\n            <input type=\"text\" placeholder=\"Nome do usuário\" class=\"input\" v-model=\"name\">\r\n            <p>E-mail</p>\r\n            <input type=\"email\" placeholder=\"email@email.com\" class=\"input\" v-model=\"email\">\r\n            <hr>\r\n            <button class=\"button is-success\" @click=\"update\">Editar</button>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    created(){\r\n\r\n        var req = {\r\n            headers: {\r\n                Authorization: \"Bearer \" + localStorage.getItem('token')\r\n            }\r\n        } \r\n\r\n        axios.get(\"http://localhost:8686/user/\" + this.$route.params.id).then(res => {\r\n            console.log(res)\r\n            this.name = res.data.name;\r\n            this.email = res.data.email;\r\n            this.id = res.data.id;\r\n        }).catch(err => {\r\n            console.log(err)\r\n            this.$router.push({path: \"/admin/users\"})\r\n        })\r\n    },\r\n    data(){\r\n        return{\r\n            name: '',\r\n            email: '',\r\n            id: -1,\r\n            error: undefined,\r\n        }\r\n    },\r\n    methods:{\r\n        update(){\r\n\r\n            var req = {\r\n                headers: {\r\n                    Authorization: \"Bearer \" + localStorage.getItem('token')\r\n                }\r\n            } \r\n\r\n            axios.put(\"http://localhost:8686/user\",{//acessando minha Api \r\n                name: this.name,\r\n                email: this.email,\r\n                id: this.id\r\n            }).then(res =>{\r\n                console.log(res)\r\n                this.$router.push({path: \"/admin/users\"})// redirecionando para minha home\r\n            }).catch(err => {\r\n                var msgErro = err.response.data.err\r\n                this.error = msgErro\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":";AA0BA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACXC,OAAOA,CAAA,EAAE;IAEL,IAAIC,GAAE,GAAI;MACNC,OAAO,EAAE;QACLC,aAAa,EAAE,SAAQ,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO;MAC3D;IACJ;IAEAN,KAAK,CAACO,GAAG,CAAC,6BAA4B,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,CAAC,CAACC,IAAI,CAACC,GAAE,IAAK;MACzEC,OAAO,CAACC,GAAG,CAACF,GAAG;MACf,IAAI,CAACG,IAAG,GAAIH,GAAG,CAACI,IAAI,CAACD,IAAI;MACzB,IAAI,CAACE,KAAI,GAAIL,GAAG,CAACI,IAAI,CAACC,KAAK;MAC3B,IAAI,CAACP,EAAC,GAAIE,GAAG,CAACI,IAAI,CAACN,EAAE;IACzB,CAAC,CAAC,CAACQ,KAAK,CAACC,GAAE,IAAK;MACZN,OAAO,CAACC,GAAG,CAACK,GAAG;MACf,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAACC,IAAI,EAAE;MAAc,CAAC;IAC5C,CAAC;EACL,CAAC;EACDN,IAAIA,CAAA,EAAE;IACF,OAAM;MACFD,IAAI,EAAE,EAAE;MACRE,KAAK,EAAE,EAAE;MACTP,EAAE,EAAE,CAAC,CAAC;MACNa,KAAK,EAAEC;IACX;EACJ,CAAC;EACDC,OAAO,EAAC;IACJC,MAAMA,CAAA,EAAE;MAEJ,IAAIxB,GAAE,GAAI;QACNC,OAAO,EAAE;UACLC,aAAa,EAAE,SAAQ,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO;QAC3D;MACJ;MAEAN,KAAK,CAAC2B,GAAG,CAAC,4BAA4B,EAAC;QAAC;QACpCZ,IAAI,EAAE,IAAI,CAACA,IAAI;QACfE,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBP,EAAE,EAAE,IAAI,CAACA;MACb,CAAC,CAAC,CAACC,IAAI,CAACC,GAAE,IAAI;QACVC,OAAO,CAACC,GAAG,CAACF,GAAG;QACf,IAAI,CAACQ,OAAO,CAACC,IAAI,CAAC;UAACC,IAAI,EAAE;QAAc,CAAC,CAAC;MAC7C,CAAC,CAAC,CAACJ,KAAK,CAACC,GAAE,IAAK;QACZ,IAAIS,OAAM,GAAIT,GAAG,CAACU,QAAQ,CAACb,IAAI,CAACG,GAAE;QAClC,IAAI,CAACI,KAAI,GAAIK,OAAM;MACvB,CAAC;IACL;EACJ;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}